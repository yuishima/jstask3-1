<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>js制作課題③－１</title>
</head>
<body>
    <h1>ToDoリスト</h1>
    <form action="#" method="get" name="FizzBuzz"></form>
        <input type="radio" name="select-item">全て
        <input type="radio" name="select-item">作業中
        <input type="radio" name="select-item">完了
        <h2>新規タスクの追加</h2>
        <input type="text" id="add-todo">
        <input type="button" id="add-btn" value="追加">
    </form>
    <table id="display">
    </table>

    <script>
        'use strict';
        //項目見出しの表示
        const trHead = document.createElement('tr');
        const thId = document.createElement('th');
        thId.textContent = "ID";
        trHead.appendChild(thId);
           
        const thCome = document.createElement('th');
        thCome.textContent = "コメント";
        trHead.appendChild(thCome);
           
        const thCon = document.createElement('th');
        thCon.textContent = "状態";
        trHead.appendChild(thCon);
        document.getElementById('display').appendChild(trHead);

        //値の取得
        const btn = document.getElementById('add-btn');
        btn.addEventListener('click',displayList);
        const todoList =[];
        
        //空の配列に入力値を入れていくfunction
        function displayList(){
            todoList.push(document.getElementById("add-todo").value);
            document.getElementById("add-todo").value = "";
            displayResult([todoList.length - 1],todoList[todoList.length - 1]);
        };

        //表示function
        function displayResult(index,value){
            const trList = document.createElement('tr');
            //index番号の表示
            const tdIndex = document.createElement('td');
            tdIndex.textContent = index;
            trList.appendChild(tdIndex);

            //コメントの表示
            const tdValue = document.createElement('td');
            tdValue.textContent = value;
            trList.appendChild(tdValue);
            
            //作業中、削除ボタンの表示
            const tdBtn = document.createElement('td');
            tdBtn.textContent = "";
            trList.appendChild(tdBtn);
            document.getElementById('display').appendChild(trList);
            // 作業中、削除ボタンの追加
            const addCon = tdBtn.insertAdjacentHTML('beforeend','<input type="button" id="add-remove" value="作業中"><input type="button" id="add-remove" value="削除"><br>');
        };
    </script>
</body>
</html>